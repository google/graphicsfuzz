<!--
Copyright 2018 The GraphicsFuzz Project Authors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!DOCTYPE html>
<html>

<head>
<title>WebGL viewer</title>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">

<script src="jquery/jquery-3.1.1.min.js"></script>

<script src="thrift.js"> </script>
<script src="gen-js/FuzzerService_types.js"> </script>
<script src="gen-js/FuzzerService.js"> </script>
<script src="backend.js"> </script>

<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<div class="grid">
		<div class="row">
			<div class="cell">
				<canvas id="opengl-canvas" style="border: none;" width="640" height="480"></canvas>
			</div>

			<div class="cell">
				<div id="button_div">
					<ul>
						<li><button title="Connects to a given server and starts executing available jobs" onclick="doRun()">Connect & Run</button></li>
						<li><button title="Disconnects from the current server" onclick="stopRun()">Disconnect</button></li>
						<li><button title="Resets the current worker name to 'null'" onclick="resetWorkerName()">Reset worker name</button></li>
					</ul>

					<ul>
						<li><button title="Displays shader set in the location field" onclick="doSetURL(document.getElementById('location').value)">Fetch & Execute</button></li>
						<li><button title="Displays shader set in the shader source field" onclick="doSet(document.getElementById('shader_source').value)">Execute</button></li>
						<li><button title="Cycles through all available shaders in the given location field" onclick="doCycle()">Cycle</button></li>
					</ul>

					<ul>
						<li><button title="Opens the runner view" onclick="window.open('runner.html')">Open runner</button></li>
					</ul>
				</div>
				<div style="clear:both;"></div>
			</div>
		</div>

		<div class="row">
			<div class="cell shader_location_input">
				<input type="text" id="current_worker" placeholder="Current worker name:" readonly/><br/>
				<input type="text" id="rendered_shader" placeholder="Rendered shader:" readonly/><br/>
				<input type="text" id="location" placeholder="Location of shader(s)"/><br/>
				<textarea id="shader_source" placeholder="Source of fragment shader"></textarea>
			</div>
			<div class="cell">
			</div>
		</div>
	</div>
</body>

</html>
